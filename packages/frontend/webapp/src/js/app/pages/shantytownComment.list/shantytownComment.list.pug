<div class="v1">
    <div class="page--withMargin">
        <NavBar></NavBar>

        <section class="section section-white">
            <div class="container">
                <h1>Derniers commentaires</h1>

                //- state: loading in progress
                <div v-if="state === 'loading'" class="notification full-width">
                    <img src="/img/spinner_dark.svg" width="20" class="spinner" />
                    <span>Chargement des données en cours...</span>
                </div>

                //- state: loading failed
                <div v-if="state === 'error'" class="notification error full-width">
                    <span>{{ error }}. <a href="#" @click="retryLoading">Réessayer ?</a></span>
                </div>

                //- state: loaded
                <div v-if="state === 'loaded'">
                    <Table v-bind="tableProperties" @on-row-click="routeToTown">
                        <template slot="table-row" slot-scope="props">
                            <span v-if="props.column.id === 'see'">
                                <span><font-awesome-icon class="user-validateIcon" icon="arrow-right"></font-awesome-icon></span>
                            </span>
                            <span v-else :class="`userList-row--${props.column.id}`">{{ props.formattedRow[props.column.field] }}</span>
                        </template>
                    </Table>
                </div>
            </div>
        </section>
    </div>
</div>
