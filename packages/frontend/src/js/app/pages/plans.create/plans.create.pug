<div class="v1">
    <NavBar></NavBar>

    //- state: loading in progress
    <section v-if="loading.status === 'loading'" class="section section-white">
        <div class="container">
            <div  class="notification full-width">
                <img src="/img/spinner_dark.svg" width="20" class="spinner" />
                <span>Chargement des données en cours...</span>
            </div>
        </div>
    </section>

    //- state: loading failed
    <section v-if="loading.status === 'failed'" class="section section-white">
        <div class="container">
            <div class="notification error full-width">
                <span>{{ loading.error }}. <a href="#" @click="load">Réessayer ?</a></span>
            </div>
        </div>
    </section>

    //- state: loaded
    <Form v-if="loading.status === 'completed'" v-bind="formDefinition" v-model="formData" @complete="onComplete" ref="form"></Form>
</div>
